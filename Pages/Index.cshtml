@page
@using Microsoft.AspNetCore.Identity
@using Movie_Explorer.Models
@inject SignInManager<CustomUser> SignInManager
@inject UserManager<CustomUser> UserManager
@inject GetLikedMovieList LikedMovieList

@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome to the Cinematic Universe</h1>

    <!-- Search bar -->
    <form id="searchForm" onsubmit="handleSearch(event)">
        <div class="input-group mb-3">
            <input type="text" class="form-control search-input" placeholder="Enter movie title" id="searchInput">
            <div class="input-group-append">
                <button class="btn btn-primary search-button" type="submit">Search</button>
            </div>
        </div>
    </form>

    <!-- Liked movie display area -->
    <div id="likedMovies" class="movie-container">
        <!-- Liked movies will be displayed here -->
    </div>
</div>

<!--   ＠if (SignInManager.IsSignedIn(User))
    {
    <div id="likedMovies" class="movie-container">
        ＠foreach (LikedMovie movie in LikedMovieList.GetLikedMovies(＠User.Identity.Name))
        {
            <p>＠movie.Title</p>
        }
    </div>
-->

@section Scripts {
    <script src="~/js/Index.js"></script>
}